const e={oneImgBlock:{self:document.querySelector(".one-image-galery"),title:document.querySelector(".one-image-galery__information-title"),img_container:document.querySelector(".one-image-galery__image"),img:document.querySelector(".one-image-galery__image img"),a:document.querySelector(".one-image-galery__image a"),photoCount:document.querySelector(".one-image-galery__photo-count"),photoNumber:document.querySelector(".one-image-galery__photo-number")},folderPath:"img/galery images/",loop:!0,currentImgIndex:1,imagesCount:53,initScale:1.5,scale:1.5,maxScale:2,minScale:.5,1:{title:"Закат в поле"},2:{title:"Закат над водой"},3:{title:"Вид из окна 9го этажа"},4:{title:"Горение свечи",oneItem:!0},5:{title:"Частный сектор из 4го этажа"},6:{title:"Река Днепр"},7:{title:"Закат возле Днепра"},8:{title:"Зима",oneItem:!0},9:{title:"Огни в ночи"},10:{title:"Ночной вид из окна дома"},11:{title:"Туман"},12:{title:"Ночь из окна 7го этажа"},13:{title:"Цветок на окне"},14:{title:"В траве у воды"},15:{title:"Ночь, луна и закат"},16:{title:"Закат в тумане"},17:{title:"Разделение неба"},18:{title:"Солнце из окна машины"},19:{title:"Дерево",oneItem:!0},20:{title:"Розовое небо"},21:{title:"Дерево с розовым небом",oneItem:!0},22:{title:"Дом  с розовым небом",oneItem:!0},23:{title:"Закат на Днепре"},24:{title:"Розовый Днепр"},25:{title:"На берегу Днепра"},26:{title:"Двойная радуга"},27:{title:"Красный асфальт",oneItem:!0},28:{title:"Оранжевый дом"},29:{title:"Розовая даль"},30:{title:"После дождя",oneItem:!0},31:{title:"Красивые тучи"},32:{title:"Радуга"},33:{title:"Фиолетовая вода и трава"},34:{title:"Красная вода"},35:{title:"Гриб и листья в траве"},36:{title:"Гриб крупным планом",oneItem:!0},37:{title:"Гриб общим планом",oneItem:!0},38:{title:"Гриб и трава общим планом"},39:{title:"Красивое небо"},40:{title:"Зимний вечер"},41:{title:"Отражение света на льду"},42:{title:"Новогодняя гирлянда"},43:{title:"Стеклопакет",oneItem:!0},44:{title:"Трава свысока",oneItem:!0},45:{title:"Желтые деревья"},46:{title:"Трава и желтые деревья"},47:{title:"В траве",oneItem:!0},48:{title:"Красивый закат из дома"},49:{title:"Красивый закат с другого ракурса"},50:{title:"Яркий красивый закат"},51:{title:"Закат в дали"},52:{title:"Закат на озере"},53:{title:"Поле"}};function t(e,t=4){const n=e.offsetHeight,o=function(e){const t=e.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop;return t.top+n}(e);let i=window.innerHeight-n/t;return n>window.innerHeight&&(i=window.innerHeight-window.innerHeight/t),(window.pageYOffset||document.documentElement.scrollTop)>o-i&&(window.pageYOffset||document.documentElement.scrollTop)<o+n}const n=document.querySelectorAll("._anim-item");function o(){for(let e=0;e<n.length;e++){const o=n[e];t(o,4)?o.classList.add("_anim-active"):o.classList.contains("_anim-no-hide")||o.classList.remove("_anim-active")}}n.length>0&&(window.addEventListener("scroll",o),setTimeout(o,300));const i=document.querySelector("header.header");let l=1;function c(e){$(".header__image_"+l).css("opacity","0"),l=e,8==l?l=1:l<1&&(l=7),$(".header__image_"+l).css("opacity","1")}function a(){c(l-1)}function s(){c(l+1)}setTimeout((function e(){s(),setTimeout(e,10500)}),10500),i.onclick=function(e){const t=e.screenX,n=i.scrollWidth,o=.2*n;t<=o?a():t>=n-o&&s()};let m=null;i.addEventListener("touchmove",(function(e){null===m&&(m=e.changedTouches[0].clientX)})),i.addEventListener("touchend",(function(e){if(null===m)return;const t=e.changedTouches[0].clientX;m-t<-100?a():m-t>100&&s(),m=null}));const r=document.querySelectorAll(".description__item");r[0].childNodes[1].style.height="auto",r[0].childNodes[1].classList.add("_active");for(let e=0;e<r.length;e++){const t=r[e],n=t.childNodes[0],o=t.childNodes[1];n.onclick=function(){o.classList.contains("_active")?(o.style.height=o.scrollHeight-2+"px",setTimeout((function(){o.style.height="0px"}),0),setTimeout((function(){o.classList.remove("_active")}),300)):(o.style.height=o.scrollHeight-2+"px",setTimeout((function(){o.style.height="auto"}),300),o.classList.add("_active"))}}let g=!1;function u(e,t){g||(g=!0,t.style.animationName=e,t.style.animationPlayState="running",setTimeout((function(e){e.style.animationName="",g=!1}),1e3,t))}function h(t){const n=e.oneImgBlock.title,o=e.oneImgBlock.img_container,i=e.oneImgBlock.img,l=e.oneImgBlock.a,c=e.imagesCount;if(e.loop)t<1?t=c:t>c&&(t=1);else if(t<1||t>c)return;n.classList.add("_change"),o.classList.add("_change"),setTimeout((function(){o.style.height=i.scrollHeight+20+"px",e.currentImgIndex=t,e.oneImgBlock.photoNumber.value=e.currentImgIndex,n.innerText=e[t].title,i.src=e.folderPath+t+".webp",l.href=e.folderPath+t+".webp",o.style.height=i.scrollHeight+20+"px",setTimeout((function(){o.style.height="auto",n.classList.remove("_change"),o.classList.remove("_change")}),400)}),300)}var d,f;document.querySelector(".one-image-galery__arrow_prev").onclick=function(){u("rotate-prev-arrow",this),h(e.currentImgIndex-1)},document.querySelector(".one-image-galery__arrow_next").onclick=function(){u("rotate-next-arrow",this),h(e.currentImgIndex+1)},e.oneImgBlock.img.alt="Фотография",e.oneImgBlock.title.innerText=e[e.currentImgIndex].title,e.oneImgBlock.img.src=e.folderPath+e.currentImgIndex+".webp",e.oneImgBlock.a.src=e.folderPath+e.currentImgIndex+".webp",e.oneImgBlock.photoCount.innerText=e.imagesCount,e.oneImgBlock.photoNumber.onchange=function(){let t=+this.value;if(isNaN(t)||t<1||t>e.imagesCount)return this.value=e.currentImgIndex;h(t)},d=e.oneImgBlock.img_container,f=function(t){const n=(t.deltaY||t.detail||t.wheelDelta)/1e3,o=e.maxScale,i=e.minScale;let l=e.scale;l-=n,l=n>0?Math.max(i,l):Math.min(o,l),t.altKey||(e.scale=l,e.oneImgBlock.img.style.transform=`scale(${l})`,t.preventDefault(),this.onmousemove(t))},d.addEventListener?"onwheel"in document?d.addEventListener("wheel",f):"onmousewheel"in document?d.addEventListener("mousewheel",f):d.addEventListener("MozMousePixelScroll",f):d.attachEvent("onmousewheel",f),e.oneImgBlock.img_container.onmousemove=function(t,n=1){const o=e.oneImgBlock.img,i=e.oneImgBlock.img_container;let l=5*(e.maxScale-e.scale);l=Math.max(l,.4);const c=i.getBoundingClientRect(),a=(t.clientX-c.x-i.clientWidth/2)/l,s=(t.clientY-c.y-i.clientHeight/2)/l;o.style.right=Math.min(Math.abs(a),i.clientWidth/2)*Math.sign(a)*n+"px",o.style.bottom=Math.min(Math.abs(s),i.clientHeight/2)*Math.sign(s)*n+"px"},e.oneImgBlock.img_container.onmouseleave=function(){e.oneImgBlock.img.style.transform="",e.oneImgBlock.img.style.right="",e.oneImgBlock.img.style.bottom="",e.scale=e.initScale},e.oneImgBlock.img_container.addEventListener("touchmove",(function(t){if(1==t.targetTouches.length){const e={clientX:t.targetTouches[0].clientX,clientY:t.targetTouches[0].clientY};this.onmousemove(e,-1)}else if(2==t.targetTouches.length){const n=e.maxScale/300,o={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY},i={x:t.targetTouches[1].clientX,y:t.targetTouches[1].clientY};let l=Math.sqrt((i.x-o.x)**2+(i.y-o.y)**2)*n;l<e.minScale?l=e.minScale:l>e.maxScale&&(l=e.maxScale),e.scale=l,e.oneImgBlock.img.style.transform=`scale(${l})`,this.onmousemove(event)}this.classList.add("_hover"),t.preventDefault()})),e.oneImgBlock.img_container.addEventListener("touchend",(function(e){e.targetTouches.length>0||(this.classList.remove("_hover"),this.onmouseleave())}));const I=Array.from(document.querySelectorAll("._lazy-loading"));if(I.length>0){function y(){for(let e=0;e<I.length;e++){const n=I[e];t(n,1)&&(I.splice(e,1),n.src=n.dataset.src,delete n.dataset.src)}}window.addEventListener("scroll",y),y()}