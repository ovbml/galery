const galeryData={oneImgBlock:{self:document.querySelector(".one-image-galery"),title:document.querySelector(".one-image-galery__information-title"),img_container:document.querySelector(".one-image-galery__image"),img:document.querySelector(".one-image-galery__image img"),a:document.querySelector(".one-image-galery__image a"),photoCount:document.querySelector(".one-image-galery__photo-count"),photoNumber:document.querySelector(".one-image-galery__photo-number")},folderPath:"img/galery images/",loop:!0,currentImgIndex:1,imagesCount:53,initScale:1.5,scale:1.5,maxScale:2,minScale:.5,1:{title:"Закат в поле"},2:{title:"Закат над водой"},3:{title:"Вид из окна 9го этажа"},4:{title:"Горение свечи",oneItem:!0},5:{title:"Частный сектор из 4го этажа"},6:{title:"Река Днепр"},7:{title:"Закат возле Днепра"},8:{title:"Зима",oneItem:!0},9:{title:"Огни в ночи"},10:{title:"Ночной вид из окна дома"},11:{title:"Туман"},12:{title:"Ночь из окна 7го этажа"},13:{title:"Цветок на окне"},14:{title:"В траве у воды"},15:{title:"Ночь, луна и закат"},16:{title:"Закат в тумане"},17:{title:"Разделение неба"},18:{title:"Солнце из окна машины"},19:{title:"Дерево",oneItem:!0},20:{title:"Розовое небо"},21:{title:"Дерево с розовым небом",oneItem:!0},22:{title:"Дом  с розовым небом",oneItem:!0},23:{title:"Закат на Днепре"},24:{title:"Розовый Днепр"},25:{title:"На берегу Днепра"},26:{title:"Двойная радуга"},27:{title:"Красный асфальт",oneItem:!0},28:{title:"Оранжевый дом"},29:{title:"Розовая даль"},30:{title:"После дождя",oneItem:!0},31:{title:"Красивые тучи"},32:{title:"Радуга"},33:{title:"Фиолетовая вода и трава"},34:{title:"Красная вода"},35:{title:"Гриб и листья в траве"},36:{title:"Гриб крупным планом",oneItem:!0},37:{title:"Гриб общим планом",oneItem:!0},38:{title:"Гриб и трава общим планом"},39:{title:"Красивое небо"},40:{title:"Зимний вечер"},41:{title:"Отражение света на льду"},42:{title:"Новогодняя гирлянда"},43:{title:"Стеклопакет",oneItem:!0},44:{title:"Трава свысока",oneItem:!0},45:{title:"Желтые деревья"},46:{title:"Трава и желтые деревья"},47:{title:"В траве",oneItem:!0},48:{title:"Красивый закат из дома"},49:{title:"Красивый закат с другого ракурса"},50:{title:"Яркий красивый закат"},51:{title:"Закат в дали"},52:{title:"Закат на озере"},53:{title:"Поле"}};function getTopOffsetOf(e){const t=e.getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop;return t.top+a}function itemOnScreen(e,t=4){const a=e.offsetHeight,n=getTopOffsetOf(e);let i=window.innerHeight-a/t;return a>window.innerHeight&&(i=window.innerHeight-window.innerHeight/t),(window.pageYOffset||document.documentElement.scrollTop)>n-i&&(window.pageYOffset||document.documentElement.scrollTop)<n+a}const animClass="_anim-item",noHideClass="_anim-no-hide",activeClass="_anim-active",animStartCoefficient=4,firstCheckDelay=300,enableAnim=!0,animItems=document.querySelectorAll("._anim-item");function checkAnim(){for(let e=0;e<animItems.length;e++){const t=animItems[e];itemOnScreen(t,4)?t.classList.add(activeClass):t.classList.contains(noHideClass)||t.classList.remove(activeClass)}}function unactiveAllAnim(){const e=document.querySelectorAll("._anim-item");for(index=0;index<e.length;index++){e[index].classList.remove(activeClass)}}animItems.length>0&&(window.addEventListener("scroll",checkAnim),setTimeout(checkAnim,300));const header=document.querySelector("header.header"),imagesCount=7,delay=10500;let imageIndex=1;function setHeaderImage(e){$(".header__image_"+imageIndex).css("opacity","0"),imageIndex=e,8==imageIndex?imageIndex=1:imageIndex<1&&(imageIndex=7),$(".header__image_"+imageIndex).css("opacity","1")}function prevHedaerImage(){setHeaderImage(imageIndex-1)}function nextHeaderImage(){setHeaderImage(imageIndex+1)}setTimeout((function e(){nextHeaderImage(),setTimeout(e,10500)}),10500),header.onclick=function(e){const t=e.screenX,a=header.scrollWidth,n=.2*a;t<=n?prevHedaerImage():t>=a-n&&nextHeaderImage()};let startMovePoint=null;header.addEventListener("touchmove",(function(e){null===startMovePoint&&(startMovePoint=e.changedTouches[0].clientX)})),header.addEventListener("touchend",(function(e){if(null===startMovePoint)return;const t=e.changedTouches[0].clientX;startMovePoint-t<-100?prevHedaerImage():startMovePoint-t>100&&nextHeaderImage(),startMovePoint=null}));const descriptionItems=document.querySelectorAll(".description__item");descriptionItems[0].childNodes[1].style.height="auto",descriptionItems[0].childNodes[1].classList.add("_active");for(let e=0;e<descriptionItems.length;e++){const t=descriptionItems[e],a=t.childNodes[0],n=t.childNodes[1];a.onclick=function(){n.classList.contains("_active")?(n.style.height=n.scrollHeight-2+"px",setTimeout((function(){n.style.height="0px"}),0),setTimeout((function(){n.classList.remove("_active")}),300)):(n.style.height=n.scrollHeight-2+"px",setTimeout((function(){n.style.height="auto"}),300),n.classList.add("_active"))}}let blockArrowAnim=!1;function rotateArrow(e,t){blockArrowAnim||(blockArrowAnim=!0,t.style.animationName=e,t.style.animationPlayState="running",setTimeout((function(e){e.style.animationName="",blockArrowAnim=!1}),1e3,t))}function setImage(e){const t=galeryData.oneImgBlock.title,a=galeryData.oneImgBlock.img_container,n=galeryData.oneImgBlock.img,i=galeryData.oneImgBlock.a,o=galeryData.imagesCount;if(galeryData.loop)e<1?e=o:e>o&&(e=1);else if(e<1||e>o)return;t.classList.add("_change"),a.classList.add("_change"),setTimeout((function(){a.style.height=n.scrollHeight+20+"px",galeryData.currentImgIndex=e,galeryData.oneImgBlock.photoNumber.value=galeryData.currentImgIndex,t.innerText=galeryData[e].title,n.src=galeryData.folderPath+e+".webp",i.href=galeryData.folderPath+e+".webp",a.style.height=n.scrollHeight+20+"px",setTimeout((function(){a.style.height="auto",t.classList.remove("_change"),a.classList.remove("_change")}),400)}),300)}function nextImg(){setImage(galeryData.currentImgIndex+1)}function prevImg(){setImage(galeryData.currentImgIndex-1)}function addOnWheel(e,t){e.addEventListener?"onwheel"in document?e.addEventListener("wheel",t):"onmousewheel"in document?e.addEventListener("mousewheel",t):e.addEventListener("MozMousePixelScroll",t):e.attachEvent("onmousewheel",t)}document.querySelector(".one-image-galery__arrow_prev").onclick=function(){rotateArrow("rotate-prev-arrow",this),prevImg()},document.querySelector(".one-image-galery__arrow_next").onclick=function(){rotateArrow("rotate-next-arrow",this),nextImg()},galeryData.oneImgBlock.img.alt="Фотография",galeryData.oneImgBlock.title.innerText=galeryData[galeryData.currentImgIndex].title,galeryData.oneImgBlock.img.src=galeryData.folderPath+galeryData.currentImgIndex+".webp",galeryData.oneImgBlock.a.src=galeryData.folderPath+galeryData.currentImgIndex+".webp",galeryData.oneImgBlock.photoCount.innerText=galeryData.imagesCount,galeryData.oneImgBlock.photoNumber.onchange=function(){let e=+this.value;if(isNaN(e)||e<1||e>galeryData.imagesCount)return this.value=galeryData.currentImgIndex;setImage(e)},addOnWheel(galeryData.oneImgBlock.img_container,(function(e){const t=(e.deltaY||e.detail||e.wheelDelta)/1e3,a=galeryData.maxScale,n=galeryData.minScale;let i=galeryData.scale;i-=t,i=t>0?Math.max(n,i):Math.min(a,i),e.altKey||(galeryData.scale=i,galeryData.oneImgBlock.img.style.transform=`scale(${i})`,e.preventDefault(),this.onmousemove(e))})),galeryData.oneImgBlock.img_container.onmousemove=function(e,t=1){const a=galeryData.oneImgBlock.img,n=galeryData.oneImgBlock.img_container;let i=5*(galeryData.maxScale-galeryData.scale);i=Math.max(i,.4);const o=n.getBoundingClientRect(),l=(e.clientX-o.x-n.clientWidth/2)/i,r=(e.clientY-o.y-n.clientHeight/2)/i;a.style.right=Math.min(Math.abs(l),n.clientWidth/2)*Math.sign(l)*t+"px",a.style.bottom=Math.min(Math.abs(r),n.clientHeight/2)*Math.sign(r)*t+"px"},galeryData.oneImgBlock.img_container.onmouseleave=function(){galeryData.oneImgBlock.img.style.transform="",galeryData.oneImgBlock.img.style.right="",galeryData.oneImgBlock.img.style.bottom="",galeryData.scale=galeryData.initScale},galeryData.oneImgBlock.img_container.addEventListener("touchstart",(function(e){e.preventDefault()})),galeryData.oneImgBlock.img_container.addEventListener("touchmove",(function(e){if(1==e.targetTouches.length){const t={clientX:e.targetTouches[0].clientX,clientY:e.targetTouches[0].clientY};this.onmousemove(t,-1)}else if(2==e.targetTouches.length){const t=galeryData.maxScale/300,a={x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY},n={x:e.targetTouches[1].clientX,y:e.targetTouches[1].clientY};let i=Math.sqrt((n.x-a.x)**2+(n.y-a.y)**2)*t;i<galeryData.minScale?i=galeryData.minScale:i>galeryData.maxScale&&(i=galeryData.maxScale),galeryData.scale=i,galeryData.oneImgBlock.img.style.transform=`scale(${i})`,this.onmousemove(event)}this.classList.add("_hover"),e.preventDefault()})),galeryData.oneImgBlock.img_container.addEventListener("touchend",(function(e){e.targetTouches.length>0||(this.classList.remove("_hover"),this.onmouseleave())}));const lazyClassName="_lazy-loading",enableLazyLoading=!0,lazyItems=Array.from(document.querySelectorAll("._lazy-loading"));if(lazyItems.length>0){function lazyLoadingCheck(){for(let e=0;e<lazyItems.length;e++){const t=lazyItems[e];itemOnScreen(t,1)&&(lazyItems.splice(e,1),t.src=t.dataset.src,delete t.dataset.src)}}window.addEventListener("scroll",lazyLoadingCheck),lazyLoadingCheck()}const version="0.9",author="@ovbml",lastEditDate=new Date(Date.UTC(2021,9,5,13,54));
